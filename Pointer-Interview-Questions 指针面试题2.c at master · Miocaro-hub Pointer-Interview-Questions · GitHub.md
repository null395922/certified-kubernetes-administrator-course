# Pointer-Interview-Questions/指针面试题2.c at master · Miocaro-hub/Pointer-Interview-Questions · GitHub
[Pointer-Interview-Questions / 指针面试题 2.c at master · Miocaro-hub/Pointer-Interview-Questions · GitHub](https://hub.gitfast.tk/Miocaro-hub/Pointer-Interview-Questions/blob/master/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c) 

              Pointer-Interview-Questions/指针面试题2.c at master · Miocaro-hub/Pointer-Interview-Questions · GitHub                                         

[Skip to content](#start-of-content)

[](https://github.com/)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo)

-   Product

    -   [Features](/features)
    -   [Mobile](/mobile)
    -   [Actions](/features/actions)
    -   [Codespaces](/features/codespaces)
    -   [Copilot](/features/copilot)
    -   [Packages](/features/packages)
    -   [Security](/features/security)
    -   [Code review](/features/code-review)
    -   [Issues](/features/issues)
    -   [Discussions](/features/discussions)
    -   [Integrations](/features/integrations)
    -   [GitHub Sponsors](/sponsors)
    -   [Customer stories](/customer-stories)
-   [Team](/team)
-   [Enterprise](/enterprise)
-   Explore

    -   [Explore GitHub](/explore)
    -   Learn and contribute
    -   [Topics](/topics)
    -   [Collections](/collections)
    -   [Trending](/trending)
    -   [Skills](https://skills.github.com/)
    -   [GitHub Sponsors](/sponsors/explore)
    -   [Open source guides](https://opensource.guide)
    -   Connect with others
    -   [The ReadME Project](/readme)
    -   [Events](/events)
    -   [Community forum](https://github.community)
    -   [GitHub Education](https://education.github.com)
    -   [GitHub Stars program](https://stars.github.com)
-   [Marketplace](/marketplace)
-   Pricing

    -   [Plans](/pricing)
    -   [Compare plans](/pricing#compare-features)
    -   [Contact Sales](https://github.com/enterprise/contact)
    -   [Education](https://education.github.com)


-   In this repository All GitHub ↵

    Jump to ↵


-   No suggested jump to results

-   In this repository All GitHub ↵

    Jump to ↵

-   In this user All GitHub ↵

    Jump to ↵

-   In this repository All GitHub ↵

    Jump to ↵

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMiocaro-hub%2FPointer-Interview-Questions%2Fblob%2Fmaster%2F%25E6%258C%2587%25E9%2592%2588%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%25982.c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=Miocaro-hub%2FPointer-Interview-Questions)

[Miocaro-hub](/Miocaro-hub) / **[Pointer-Interview-Questions](/Miocaro-hub/Pointer-Interview-Questions)** Public

-   [Notifications](/login?return_to=%2FMiocaro-hub%2FPointer-Interview-Questions)
-   [Fork 0](/login?return_to=%2FMiocaro-hub%2FPointer-Interview-Questions)
-   [Star 0](/login?return_to=%2FMiocaro-hub%2FPointer-Interview-Questions)


-   [Code](/Miocaro-hub/Pointer-Interview-Questions)
-   [Issues 0](/Miocaro-hub/Pointer-Interview-Questions/issues)
-   [Pull requests 0](/Miocaro-hub/Pointer-Interview-Questions/pulls)
-   [Actions](/Miocaro-hub/Pointer-Interview-Questions/actions)
-   [Projects 0](/Miocaro-hub/Pointer-Interview-Questions/projects?type=new)
-   [Wiki](/Miocaro-hub/Pointer-Interview-Questions/wiki)
-   [Security](/Miocaro-hub/Pointer-Interview-Questions/security)
-   [Insights](/Miocaro-hub/Pointer-Interview-Questions/pulse)

More

-   [Code](/Miocaro-hub/Pointer-Interview-Questions)
-   [Issues](/Miocaro-hub/Pointer-Interview-Questions/issues)
-   [Pull requests](/Miocaro-hub/Pointer-Interview-Questions/pulls)
-   [Actions](/Miocaro-hub/Pointer-Interview-Questions/actions)
-   [Projects](/Miocaro-hub/Pointer-Interview-Questions/projects?type=new)
-   [Wiki](/Miocaro-hub/Pointer-Interview-Questions/wiki)
-   [Security](/Miocaro-hub/Pointer-Interview-Questions/security)
-   [Insights](/Miocaro-hub/Pointer-Interview-Questions/pulse)

[Permalink](/Miocaro-hub/Pointer-Interview-Questions/blob/198c479adaa82700ca4aacc38bfb9bdc385d737b/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c)

master

Switch branches/tags

Branches Tags

[View all branches](/Miocaro-hub/Pointer-Interview-Questions/branches)

[View all tags](/Miocaro-hub/Pointer-Interview-Questions/tags)

## [Pointer-Interview-Questions](/Miocaro-hub/Pointer-Interview-Questions)/**指针面试题 2.c**

[Go to file](/Miocaro-hub/Pointer-Interview-Questions/find/master)

-   [Go to file T](/Miocaro-hub/Pointer-Interview-Questions/find/master)

-   Go to line L

-   Copy path

-   Copy permalink

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Cannot retrieve contributors at this time

88 lines (74 sloc) 2.48 KB

[Raw](/Miocaro-hub/Pointer-Interview-Questions/raw/master/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c) [Blame](/Miocaro-hub/Pointer-Interview-Questions/blame/master/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c)

 Edit this file

E

[Open in GitHub Desktop](https://desktop.github.com)

-   [Open with Desktop](https://desktop.github.com)
-   [View raw](/Miocaro-hub/Pointer-Interview-Questions/raw/master/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c)
-   Copy raw contents Copy raw contents Copy raw contents Copy raw contents
-   [View blame](/Miocaro-hub/Pointer-Interview-Questions/blame/master/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c)

|  | #define \_CRT_SECURE_NO_WARNINGS |
|  | #include&lt;stdio.h> \|

|  | //1. 执行的结果是什么 |
|  | int main() |
|  | { |
|  | int a\[5] = {1,2,3,4,5}; |
|  | int\* ptr = (int\*)(&a + 1); |
|  | printf("%d,%d\\n", \*(a + 1), \*(ptr - 1)); |
|  | // 结果为 2,5 |
|  | //&a+1 是跳过了一个数组的地址, 再强制类型转换, 存入 ptr 中, 而 ptr-1 是后退了一个整型 |
|  | //\*(ptr-1) 就指向第五个元素, 结果为 5 |
|  | printf("\\n"); |
|  | return 0; |
|  | } |

|  | //2. 假设 p 的值为 0x100000, 如下表达式的值分别为多少? |
|  | // 已知, 结构体 Test 类型的变量大小是 20 个字节 |
|  | struct Test |
|  | { |
|  | int Num; |
|  | char \*pcName; |
|  | short sDate; |
|  | char cha\[2]; |
|  | short sBa\[4]; |
|  | }\*p; // 结构体指针 |

|  | int main() |
|  | { |
|  | p = (struct Test\*)0x100000; |
|  | printf("%p\\n", p + 0x1); //0x00100014(前两个 0 没意义) - 结构体指针 + 1, 跳过一个结构体的内存, 为 20 个字节 |
|  | printf("%p\\n", (unsigned long)p + 0x1); //0x00100001 - 跳过一个无符号 long 类型, 一个字节 |
|  | printf("%p\\n", (unsigned int\*)p + 0x1); //0x00100004 - 跳过一个无符号整型指针, 四个字节 |
|  | // 指针 + - 整数取决于指针的类型 |
|  | return 0; |
|  | } |

|  | //3. 执行的结果是什么 |
|  | int main() |
|  | { |
|  | int a\[4] = {1,2,3,4}; |
|  | // 小端存储模式, 此时数组 a 的存储为 01 00 00 00 / 02 00 00 00 / 03 00 00 00 / 04 00 00 00 |

|  | int \*ptr1 = (int\*)(&a + 1);//&a+1 跳过一整个数组的地址 |
|  | int \*ptr2 = (int\*)((int)a + 1);// 将 a 强制转换为 int 类型再 + 1(就是数字 + 1, 反应到地址上就是向后了一个字节), 然后再强制转换成 int\*类型, 本质上就是差了一个字节 |
|  | // 假设地址为 0x00000005,+1 后变成了 0x00000006 |
|  | //01 00 00 00 / 02 00 00 00 / 03 00 00 00 / 04 00 00 00 |
|  | //|->|(指针指向了这里) |
|  | // 从指针位置向后读 4 个字节, 就是 00 00 00 02 |

|  | printf("%x\\n", ptr1\[-1]); //0x4 - ptr1\[-1] == ptr1+(-1) == ptr -1 |
|  | printf("%x\\n", \*ptr2); //00 00 00 02 再解引用, 就为 0x 02 00 00 00 |
|  | // 所以输入结果就为 2000000(省略前面一个 0) |
|  | return 0; |
|  | } |

|  | //4. 执行结果是什么 |
|  | int main() |
|  | { |
|  | int a\[3]\[2] = {(0,1),(2,3),(4,5) }; // 逗号表达式, 只执行最后的结果 (真坑), 实际上存入的内容为 {1,3,5,0,0,0}; |
|  | int \*p; |
|  | p = a\[0]; //a\[0]赋给 p 的就是第一行第一个元素的地址 |
|  | printf("%d\\n", p\[0]); // 输出结果为 1 |
|  | return 0; |
|  | } |

|  | //5. 执行结果是什么 |
|  | int main() |
|  | { |
|  | int a\[5]\[5]; |
|  | int(\*p)\[4]; // 指向数组的指针, 数组中有 4 个元素, 类型为整型 |
|  | p = a;//p 的类型为 int(\*)\[4],a 的类型为 int(\*)\[5], 类型不一样, 会报警告 |
|  | // 把地址赋给 p,p 还是指向数组 a 的第一个元素 |

|  | //p\[4]\[2] == \*(p\[4]+2) == \*(\*(p+4)+2), 因为 p 是整型指针,+1 跳过 4 个元素,+2 就跳过 8 个元素, p\[]+2 跳过 2 个元素 |
|  | //p\[4]指向的是 a 数组中第 4 行第 2 个元素 |
|  | // 所以 p\[4]\[2]此时指向的是 a 数组中第 4 行第 4 个元素 |
|  | //&a\[4]\[2]为第 5 行第 3 个元素 |
|  | printf("%p\\n", &p\[4]\[2] - &a\[4]\[2]);// 指针和指针相减 (地址和地址), 若以 %d 的形式打印, 结果为 - 4, 但此时为 %p 的形式, 直接打印 - 4 的补码 (在计算中不需要再转换成原码) |
|  | printf("%d\\n", &p\[4]\[2] - &a\[4]\[2]);//-4 |

|  | // 所以分别输出的值为 0xfffffffc,-4 |
|  | return 0; |
|  | } |

-   Copy lines
-   Copy permalink
-   [View git blame](/Miocaro-hub/Pointer-Interview-Questions/blame/198c479adaa82700ca4aacc38bfb9bdc385d737b/%E6%8C%87%E9%92%88%E9%9D%A2%E8%AF%95%E9%A2%982.c)
-   [Reference in new issue](/Miocaro-hub/Pointer-Interview-Questions/issues/new)

    Go 

## Footer

[](https://github.com "GitHub")© 2022 GitHub, Inc.

### Footer navigation

-   [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
-   [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
-   [Security](https://github.com/security)
-   [Status](https://www.githubstatus.com/)
-   [Docs](https://docs.github.com)
-   [Contact GitHub](https://support.github.com?tags=dotcom-footer)
-   [Pricing](https://github.com/pricing)
-   [API](https://docs.github.com)
-   [Training](https://services.github.com)
-   [Blog](https://github.blog)
-   [About](https://github.com/about)

You can’t perform that action at this time.

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session.
